{"ast":null,"code":"var _jsxFileName = \"/Users/michaelhanna/Documents/DEV/INZAN/gym_lockers/client/src/components/StorageStatus.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Database, AlertTriangle } from 'lucide-react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StorageStatus = () => {\n  _s();\n  var _storageInfo$details, _storageInfo$details2, _storageInfo$details3, _storageInfo$details4;\n  const [storageInfo, setStorageInfo] = useState(null);\n  const [isVisible, setIsVisible] = useState(true);\n  useEffect(() => {\n    const fetchStatus = async () => {\n      try {\n        const response = await axios.get('/api/status');\n        setStorageInfo(response.data.storage);\n        setIsVisible(true);\n      } catch (error) {\n        console.error('Failed to fetch storage status:', error);\n      }\n    };\n    fetchStatus();\n    const interval = setInterval(fetchStatus, 30000);\n    return () => clearInterval(interval);\n  }, []);\n  if (!storageInfo || !isVisible) return null;\n  const isMemory = storageInfo.type === 'memory';\n  const isUnknown = storageInfo.type === 'unknown';\n  const IconComponent = isMemory || isUnknown ? AlertTriangle : Database;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `status-indicator ${isMemory ? 'status-indicator-warning' : isUnknown ? 'status-indicator-error' : 'status-indicator-success'}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-start space-x-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex-shrink-0 p-2 rounded-lg ${isMemory ? 'bg-app-status-warning-bg' : isUnknown ? 'bg-app-status-error-bg' : 'bg-app-status-success-bg'}`,\n        children: /*#__PURE__*/_jsxDEV(IconComponent, {\n          className: `w-5 h-5 ${isMemory ? 'text-app-status-warning-icon' : isUnknown ? 'text-app-status-error-icon' : 'text-app-status-success-icon'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 min-w-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"status-title\",\n          children: isMemory ? 'In-Memory Storage' : isUnknown ? 'Storage Initializing' : 'Database Storage'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"status-message mt-1\",\n          children: isMemory ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"Running in temporary storage mode. Data will be lost when the server restarts.\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"block mt-1 opacity-90\",\n              children: [\"Reason: \", ((_storageInfo$details = storageInfo.details) === null || _storageInfo$details === void 0 ? void 0 : _storageInfo$details.reason) || 'Unknown']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : isUnknown ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"Storage system is currently initializing.\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"block mt-1 opacity-90\",\n              children: ((_storageInfo$details2 = storageInfo.details) === null || _storageInfo$details2 === void 0 ? void 0 : _storageInfo$details2.reason) || 'Please wait...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"Connected to \", (_storageInfo$details3 = storageInfo.details) === null || _storageInfo$details3 === void 0 ? void 0 : _storageInfo$details3.database, \" on \", (_storageInfo$details4 = storageInfo.details) === null || _storageInfo$details4 === void 0 ? void 0 : _storageInfo$details4.host]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsVisible(false),\n        className: \"flex-shrink-0 p-1.5 hover:bg-app-interactive-hover rounded-lg transition-colors duration-200\",\n        \"aria-label\": \"Dismiss\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: `w-4 h-4 ${isMemory ? 'text-app-status-warning-text' : isUnknown ? 'text-app-status-error-text' : 'text-app-status-success-text'}`,\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M6 18L18 6M6 6l12 12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(StorageStatus, \"G4KW4+RLRsWQB2l0NvKkWJ4aVl0=\");\n_c = StorageStatus;\nexport default StorageStatus;\nvar _c;\n$RefreshReg$(_c, \"StorageStatus\");","map":{"version":3,"names":["React","useState","useEffect","Database","AlertTriangle","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","StorageStatus","_s","_storageInfo$details","_storageInfo$details2","_storageInfo$details3","_storageInfo$details4","storageInfo","setStorageInfo","isVisible","setIsVisible","fetchStatus","response","get","data","storage","error","console","interval","setInterval","clearInterval","isMemory","type","isUnknown","IconComponent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","details","reason","database","host","onClick","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","_c","$RefreshReg$"],"sources":["/Users/michaelhanna/Documents/DEV/INZAN/gym_lockers/client/src/components/StorageStatus.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Database, AlertTriangle } from 'lucide-react';\nimport axios from 'axios';\n\nconst StorageStatus = () => {\n  const [storageInfo, setStorageInfo] = useState(null);\n  const [isVisible, setIsVisible] = useState(true);\n\n  useEffect(() => {\n    const fetchStatus = async () => {\n      try {\n        const response = await axios.get('/api/status');\n        setStorageInfo(response.data.storage);\n        setIsVisible(true);\n      } catch (error) {\n        console.error('Failed to fetch storage status:', error);\n      }\n    };\n\n    fetchStatus();\n    const interval = setInterval(fetchStatus, 30000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  if (!storageInfo || !isVisible) return null;\n\n  const isMemory = storageInfo.type === 'memory';\n  const isUnknown = storageInfo.type === 'unknown';\n\n  const IconComponent = isMemory || isUnknown ? AlertTriangle : Database;\n\n  return (\n    <div \n      className={`status-indicator ${\n        isMemory ? 'status-indicator-warning' :\n        isUnknown ? 'status-indicator-error' :\n        'status-indicator-success'\n      }`}\n    >\n      <div className=\"flex items-start space-x-4\">\n        <div className={`flex-shrink-0 p-2 rounded-lg ${\n          isMemory ? 'bg-app-status-warning-bg' :\n          isUnknown ? 'bg-app-status-error-bg' :\n          'bg-app-status-success-bg'\n        }`}>\n          <IconComponent \n            className={`w-5 h-5 ${\n              isMemory ? 'text-app-status-warning-icon' :\n              isUnknown ? 'text-app-status-error-icon' :\n              'text-app-status-success-icon'\n            }`}\n          />\n        </div>\n        <div className=\"flex-1 min-w-0\">\n          <h3 className=\"status-title\">\n            {isMemory ? 'In-Memory Storage' :\n             isUnknown ? 'Storage Initializing' :\n             'Database Storage'}\n          </h3>\n          <p className=\"status-message mt-1\">\n            {isMemory ? (\n              <>\n                Running in temporary storage mode. Data will be lost when the server restarts.\n                <span className=\"block mt-1 opacity-90\">\n                  Reason: {storageInfo.details?.reason || 'Unknown'}\n                </span>\n              </>\n            ) : isUnknown ? (\n              <>\n                Storage system is currently initializing.\n                <span className=\"block mt-1 opacity-90\">\n                  {storageInfo.details?.reason || 'Please wait...'}\n                </span>\n              </>\n            ) : (\n              <>\n                Connected to {storageInfo.details?.database} on {storageInfo.details?.host}\n              </>\n            )}\n          </p>\n        </div>\n        <button\n          onClick={() => setIsVisible(false)}\n          className=\"flex-shrink-0 p-1.5 hover:bg-app-interactive-hover rounded-lg transition-colors duration-200\"\n          aria-label=\"Dismiss\"\n        >\n          <svg \n            className={`w-4 h-4 ${\n              isMemory ? 'text-app-status-warning-text' :\n              isUnknown ? 'text-app-status-error-text' :\n              'text-app-status-success-text'\n            }`} \n            fill=\"none\" \n            viewBox=\"0 0 24 24\" \n            stroke=\"currentColor\"\n          >\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default StorageStatus;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,QAAQ,EAAEC,aAAa,QAAQ,cAAc;AACtD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1B,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,oBAAA,EAAAC,qBAAA,EAAAC,qBAAA,EAAAC,qBAAA;EAC1B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACiB,SAAS,EAAEC,YAAY,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EAEhDC,SAAS,CAAC,MAAM;IACd,MAAMkB,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAC,aAAa,CAAC;QAC/CL,cAAc,CAACI,QAAQ,CAACE,IAAI,CAACC,OAAO,CAAC;QACrCL,YAAY,CAAC,IAAI,CAAC;MACpB,CAAC,CAAC,OAAOM,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACzD;IACF,CAAC;IAEDL,WAAW,CAAC,CAAC;IACb,MAAMO,QAAQ,GAAGC,WAAW,CAACR,WAAW,EAAE,KAAK,CAAC;IAEhD,OAAO,MAAMS,aAAa,CAACF,QAAQ,CAAC;EACtC,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACX,WAAW,IAAI,CAACE,SAAS,EAAE,OAAO,IAAI;EAE3C,MAAMY,QAAQ,GAAGd,WAAW,CAACe,IAAI,KAAK,QAAQ;EAC9C,MAAMC,SAAS,GAAGhB,WAAW,CAACe,IAAI,KAAK,SAAS;EAEhD,MAAME,aAAa,GAAGH,QAAQ,IAAIE,SAAS,GAAG5B,aAAa,GAAGD,QAAQ;EAEtE,oBACEI,OAAA;IACE2B,SAAS,EAAE,oBACTJ,QAAQ,GAAG,0BAA0B,GACrCE,SAAS,GAAG,wBAAwB,GACpC,0BAA0B,EACzB;IAAAG,QAAA,eAEH5B,OAAA;MAAK2B,SAAS,EAAC,4BAA4B;MAAAC,QAAA,gBACzC5B,OAAA;QAAK2B,SAAS,EAAE,gCACdJ,QAAQ,GAAG,0BAA0B,GACrCE,SAAS,GAAG,wBAAwB,GACpC,0BAA0B,EACzB;QAAAG,QAAA,eACD5B,OAAA,CAAC0B,aAAa;UACZC,SAAS,EAAE,WACTJ,QAAQ,GAAG,8BAA8B,GACzCE,SAAS,GAAG,4BAA4B,GACxC,8BAA8B;QAC7B;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNhC,OAAA;QAAK2B,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7B5B,OAAA;UAAI2B,SAAS,EAAC,cAAc;UAAAC,QAAA,EACzBL,QAAQ,GAAG,mBAAmB,GAC9BE,SAAS,GAAG,sBAAsB,GAClC;QAAkB;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjB,CAAC,eACLhC,OAAA;UAAG2B,SAAS,EAAC,qBAAqB;UAAAC,QAAA,EAC/BL,QAAQ,gBACPvB,OAAA,CAAAE,SAAA;YAAA0B,QAAA,GAAE,gFAEA,eAAA5B,OAAA;cAAM2B,SAAS,EAAC,uBAAuB;cAAAC,QAAA,GAAC,UAC9B,EAAC,EAAAvB,oBAAA,GAAAI,WAAW,CAACwB,OAAO,cAAA5B,oBAAA,uBAAnBA,oBAAA,CAAqB6B,MAAM,KAAI,SAAS;YAAA;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7C,CAAC;UAAA,eACP,CAAC,GACDP,SAAS,gBACXzB,OAAA,CAAAE,SAAA;YAAA0B,QAAA,GAAE,2CAEA,eAAA5B,OAAA;cAAM2B,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EACpC,EAAAtB,qBAAA,GAAAG,WAAW,CAACwB,OAAO,cAAA3B,qBAAA,uBAAnBA,qBAAA,CAAqB4B,MAAM,KAAI;YAAgB;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C,CAAC;UAAA,eACP,CAAC,gBAEHhC,OAAA,CAAAE,SAAA;YAAA0B,QAAA,GAAE,eACa,GAAArB,qBAAA,GAACE,WAAW,CAACwB,OAAO,cAAA1B,qBAAA,uBAAnBA,qBAAA,CAAqB4B,QAAQ,EAAC,MAAI,GAAA3B,qBAAA,GAACC,WAAW,CAACwB,OAAO,cAAAzB,qBAAA,uBAAnBA,qBAAA,CAAqB4B,IAAI;UAAA,eAC1E;QACH;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eACNhC,OAAA;QACEqC,OAAO,EAAEA,CAAA,KAAMzB,YAAY,CAAC,KAAK,CAAE;QACnCe,SAAS,EAAC,8FAA8F;QACxG,cAAW,SAAS;QAAAC,QAAA,eAEpB5B,OAAA;UACE2B,SAAS,EAAE,WACTJ,QAAQ,GAAG,8BAA8B,GACzCE,SAAS,GAAG,4BAA4B,GACxC,8BAA8B,EAC7B;UACHa,IAAI,EAAC,MAAM;UACXC,OAAO,EAAC,WAAW;UACnBC,MAAM,EAAC,cAAc;UAAAZ,QAAA,eAErB5B,OAAA;YAAMyC,aAAa,EAAC,OAAO;YAACC,cAAc,EAAC,OAAO;YAACC,WAAW,EAAE,CAAE;YAACC,CAAC,EAAC;UAAsB;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3F;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC5B,EAAA,CAnGID,aAAa;AAAA0C,EAAA,GAAb1C,aAAa;AAqGnB,eAAeA,aAAa;AAAC,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}